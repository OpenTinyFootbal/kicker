<templates id="template" xml:space="preserve">
    <!-- Pages -->
    <t t-name="Dashboard">
        <div class="container-fluid o_kicker_main">
            <h5 class="text-primary"><strong>Hello <t t-esc="widget.name || 'darling'"/>,</strong></h5>
            <h6 class="text-muted">Please note that you suck at this.</h6>
            <div class="row">
                <div class="col-md-12 col-lg-6">
                    <div class="o_score_card card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6 gradient-border">
                                    <h4 class="text-primary"><strong><t t-esc="widget.wins !== undefined ? widget.wins:'--'"/></strong></h4>
                                    <h6 class="text-muted">won matches</h6>
                                </div>
                                <div class="col-6 gradient-border">
                                    <h4 class="text-primary"><strong><t t-esc="widget.losses !== undefined ? widget.losses:'--'"/></strong></h4>
                                    <h6 class="text-muted">lost matches</h6>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <a href="/app/score" data-router="true" class="btn btn-outline-primary btn-lg btn-block">Add Score</a>
                        </div>
                    </div>
                    <label>Your Stats</label>
                    <div class="card">
                        <div class="card-body">
                            <canvas id="o_kicker_main_chart" width="400" height="400"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-6">
                    <label>Your Best Teammates</label>
                    <div class="container-fluid">
                        <div class="row o_kicker_user_row">
                            <t t-if="widget.teammates">
                                <t t-foreach="widget.teammates" t-as="player">
                                    <t t-call="PlayerCard">
                                        <t t-set="card_class" t-value="'o_kicker_user_card'"/>
                                    </t>
                                </t>
                            </t>
                            <t t-else="" t-call="PlayerCardLoader">
                                <t t-set="card_class" t-value="'o_kicker_user_card'"/>
                            </t>
                        </div>
                    </div>
                    <label>Your Worst Nightmares</label>
                    <div class="container-fluid">
                        <div class="row o_kicker_user_row">
                            <t t-if="widget.nightmares">
                                <t t-foreach="widget.nightmares" t-as="player">
                                    <t t-call="PlayerCard">
                                        <t t-set="card_class" t-value="'o_kicker_user_card'"/>
                                    </t>
                                </t>
                            </t>
                            <t t-else="" t-call="PlayerCardLoader">
                                <t t-set="card_class" t-value="'o_kicker_user_card'"/>
                            </t>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="Profile">
        <div class="container-fluid o_kicker_main">
            <div t-if="widget.player &amp;&amp; !widget.edit" class="text-center">
                <div class="text-right mb8 mt8">
                    <button class="btn btn-xs o_kicker_edit">Update Profile <i class="fa fa-pencil"/></button>
                </div>
                <img t-attf-src="/kicker/avatar/{{ widget.player.id }}?t={{ new Date().getTime() }}" class="rounded-circle o_kicker_profile_img"/>
                <h3><t t-esc="widget.player.name"/></h3>
                <t t-if="widget.player.tagline">
                    <h5><t t-esc="widget.player.tagline"/></h5>
                </t>
                <t t-else="0">
                    <h5 class="text-muted">You haven't set a tagline yet.</h5>
                </t>
                <t t-if="widget.player.main_kicker_id">
                    <h5>You mainly play at <b t-esc="widget.player.main_kicker_id[1]"/></h5>
                </t>
                <t t-else="0">
                    <h5 class="text-muted">You haven't set a favourite location yet.</h5>
                </t>
                <h6>You suck at this. Please stop.</h6>
            </div>
            <form t-elif="widget.player &amp;&amp; widget.edit" class="text-right">
                <div class="text-right mb8 mt8">
                    <button class="btn o_kicker_save"><i class="fa fa-check"/> Save changes</button>
                </div>
                <input type="file" class="d-none o_kicker_file_upload" name="avatar_file" accept="image/*"/>
                <div class="mb16 text-center">
                    <img class="rounded-circle mb16 o_kicker_profile_img" t-attf-src="/kicker/avatar/{{ widget.player.id }}?t={{ new Date().getTime() }}"/><br/>
                    <button class="btn btn-primary o_kicker_profile_img_select">Select Image</button>
                    <button class="btn btn-danger o_kicker_profile_img_reset">Reset</button>
                </div>
                <div class="form-group row">
                    <label class="control-label col-3" for="name">Name</label>
                    <div class="col-9">
                        <input type="text" class="form-control" name="name" placeholder="Destructor" t-att-value="widget.player.name"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-3" for="Tagline">Tagline</label>
                    <div class="col-9">
                        <input type="text" class="form-control" name="tagline" placeholder="I will destroy you all!" t-att-value="widget.player.tagline or null"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-3" for="main_kicker">Main Kicker</label>
                    <div class="col-9">
                        <select name="main_kicker" class="form-control">
                            <option value="-1">Select your default location...</option>
                            <t t-foreach="widget.kickers" t-as="kicker">
                                <t t-if="kicker.id === widget.default_kicker">
                                    <option t-att-value="kicker.id" selected="true"><t t-esc="kicker.nickname"/></option>
                                </t>
                                <t t-else="0">
                                    <option t-att-value="kicker.id"><t t-esc="kicker.nickname"/></option>
                                </t>
                            </t>
                        </select>
                    </div>
                </div>
            </form>
            <div t-else="" class="text-center">
                <div class="text-right mb8 mt8">
                    <div class="btn btn-xs btn-disabled">Update Profile <i class="fa fa-pencil"/></div>
                </div>
                <img src="/kicker/static/icons/player.svg" class="rounded-circle avatar_placeholder" width="128px"/>
                <h3>Loading...</h3>
                <h6>This will only take a moment.</h6>
            </div>
        </div>
    </t>

    <t t-name="Community">
        <div class="container-fluid o_kicker_main">
            <h4>Community</h4>
            <label>You played often with</label>
            <div class="container-fluid">
                <div class="row">
                    <t t-if="widget.usual">
                        <t t-foreach="widget.usual" t-as="player">
                            <t t-call="PlayerCard">
                                <t t-set="player.fav" t-value="player.name.indexOf('e') !== -1"/>
                                <t t-set="card_class" t-value="'col-md-6 col-lg-3 col-xl-2'"/>
                            </t>
                        </t>
                    </t>
                    <t t-else="" t-call="PlayerCardLoader">
                        <t t-set="card_class" t-value="'col-md-6 col-lg-3 col-xl-2'"/>
                    </t>
                </div>
            </div>
            <label>You never played against</label>
            <div class="container-fluid">
                <div class="row">
                    <t t-if="widget.rare">
                        <t t-foreach="widget.rare" t-as="player">
                            <t t-call="PlayerCard">
                                <t t-set="player.fav" t-value="player.name.indexOf('e') !== -1"/>
                                <t t-set="card_class" t-value="'col-md-6 col-lg-3 col-xl-2'"/>
                            </t>
                        </t>
                    </t>
                    <t t-else="" t-call="PlayerCardLoader">
                        <t t-set="card_class" t-value="'col-md-6 col-lg-3 col-xl-2'"/>
                    </t>
                </div>
            </div>
        </div>
    </t>

    <!--  Components -->
    <t t-name="PlayerCard">
        <div t-attf-class="{{ card_class }}">
            <div class="card text-center">
                <div class="card-body">
                    <a t-attf-href="/app/community/player/{{ player.id }}" data-router="true" class="o_kicker_user_link">
                        <t t-if="player.hasOwnProperty('fav')">
                            <i t-attf-class="o_kicker_user_fav fa {{ player.fav ? 'fa-heart':'fa-heart-o'}}"/>
                        </t>
                        <p>
                            <img t-if="player" t-attf-src="/kicker/avatar/{{ player.id }}" class="rounded-circle" width="64px"/>
                            <img t-else="" src="/kicker/static/icons/player.svg" class="rounded-circle" width="64px"/>
                        </p>
                        <p t-esc="player.name"/>
                        <small class="text-muted"><t t-esc="player.tagline || ''"/></small>
                    </a>
                </div>
            </div>
        </div>
    </t>

    <t t-name="PlayerCardLoader">
        <div t-attf-class="{{ card_class}}">
            <div class="card text-center">
                <div class="card-body">
                    <p>
                        <img src="/kicker/static/icons/player.svg" class="rounded-circle avatar_placeholder" width="64px"/>
                    </p>
                    <p>Loading...</p>
                    <small class="text-muted">Just a sec</small>
                </div>
            </div>
        </div>
    </t>

    <t t-name="AddScore">
        <div class="container-fluid o_kicker_main">
            <form method='post' action='/kicker/score/submit' class="o_kicker_score">
                <h4>Game Location</h4>
                <div class="form-group">
                    <select class="form-control" name="kicker_id">
                        <t t-if="widget.kickers">
                            <t t-foreach="widget.kickers" t-as="kicker">
                                <t t-if="kicker.id === widget.default_kicker">
                                    <option t-att-value="kicker.id" selected="true"><t t-esc="kicker.nickname"/></option>
                                </t>
                                <t t-else="0">
                                    <option t-att-value="kicker.id"><t t-esc="kicker.nickname"/></option>
                                </t>
                            </t>
                        </t>
                    </select>
                </div>
                <h4>Green Team</h4>
                <div class="form-group">
                    <label for="player1">Members</label>
                    <select class="form-control" name="player11">
                        <option value="-1">Select player...</option>
                        <t t-if="widget.players">
                            <t t-foreach="widget.players" t-as="player">
                                <option t-att-value="player.id"><t t-esc="player.name"/></option>
                            </t>
                        </t>
                    </select>
                    <br/>
                    <select class="form-control" name="player12">
                        <option value="-1">Select player...</option>
                        <t t-if="widget.players">
                            <t t-foreach="widget.players" t-as="player">
                                <option t-att-value="player.id"><t t-esc="player.name"/></option>
                            </t>
                        </t>
                    </select>
                </div>
                <div class="form-group">
                    <label for="score1">Score</label>
                    <input type="number" name="score1" value="0" min="0" step="1" class="form-control"/>
                </div>
                <br/>
                <h4>Red Team</h4>
                <div class="form-group">
                    <label for="player1">Members</label>
                    <select class="form-control" name="player21">
                        <option value="-1">Select player...</option>
                        <t t-if="widget.players">
                            <t t-foreach="widget.players" t-as="player">
                                <option t-att-value="player.id"><t t-esc="player.name"/></option>
                            </t>
                        </t>
                    </select>
                    <br/>
                    <select class="form-control" name="player22">
                        <option value="-1">Select player...</option>
                        <t t-if="widget.players">
                            <t t-foreach="widget.players" t-as="player">
                                <option t-att-value="player.id"><t t-esc="player.name"/></option>
                            </t>
                        </t>
                    </select>
                </div>
                <div class="form-group">
                    <label for="score2">Score</label>
                    <input type="number" name="score2" value="0" min="0" step="1" class="form-control"/>
                </div>
                <br/>
                <button type="submit" class="btn btn-outline-primary">Save</button>
            </form>
        </div>
    </t>

</templates>